# 향후 작업 계획 (TODO)

## 우선순위 높음 🔴

### 1. 공유 기능 구현
토론방을 쉽게 공유할 수 있는 기능 추가

#### 1.1 QR 코드 생성
- [ ] `qrcode` 라이브러리 설치
- [ ] QR 코드 생성 API 엔드포인트 구현 (`/api/discussions/:id/qrcode`)
- [ ] QR 코드 이미지 생성 및 반환

#### 1.2 단축 URL 생성
- [ ] `short_url` 컬럼을 discussions 테이블에 추가
- [ ] 6자리 고유 코드 생성 로직 구현
- [ ] 토론방 생성 시 자동으로 단축 URL 생성
- [ ] GET `/:code` 라우트로 토론방 리다이렉션 구현

#### 1.3 공유 모달 UI
- [ ] 공유 모달 HTML 구조 추가 (`room.html`)
- [ ] 공유 모달 CSS 스타일링
- [ ] QR 코드 표시 영역
- [ ] 단축 URL 복사 버튼
- [ ] URL 클립보드 복사 기능

#### 1.4 소셜 공유 버튼
- [ ] 카카오톡 공유 API 연동
- [ ] 페이스북 공유 버튼
- [ ] 트위터 공유 버튼
- [ ] 링크 복사 버튼

#### 1.5 공유 버튼 이벤트
- [ ] 토론방 하단에 공유 버튼 추가
- [ ] 공유 버튼 클릭 시 모달 열기
- [ ] 공유 모달 닫기 기능

## 우선순위 중간 🟡

### 2. 성능 최적화
- [ ] 메시지 무한 스크롤 페이징 구현 (현재 모든 메시지 로드)
- [ ] 이미지 lazy loading
- [ ] 토론방 목록 페이지네이션
- [ ] Socket.io 연결 최적화

### 3. 사용자 경험 개선
- [ ] 실시간 입력 중 표시 (typing indicator)
- [ ] 메시지 읽음 표시
- [ ] 알림 시스템 구현
- [ ] 토론방 즐겨찾기 기능
- [ ] 다크 모드 지원

### 4. 검색 및 필터링 강화
- [ ] 전문 검색 (Full-text search)
- [ ] 날짜 범위 필터
- [ ] 작성자별 필터
- [ ] 태그 시스템 추가

## 우선순위 낮음 🟢

### 5. 관리 기능
- [ ] 관리자 대시보드
- [ ] 토론방 통계 및 분석
- [ ] 사용자 신고 시스템
- [ ] 부적절한 내용 필터링

### 6. 추가 기능
- [ ] 이메일 알림
- [ ] 모바일 앱 (PWA)
- [ ] 다국어 지원
- [ ] 토론방 템플릿 기능
- [ ] AI 요약 기능

### 7. 기술 부채 해결
- [ ] 코드 리팩토링 (함수 모듈화)
- [ ] 에러 처리 개선
- [ ] 테스트 코드 작성
- [ ] API 문서화 (Swagger/OpenAPI)
- [ ] 로깅 시스템 개선

## 완료된 작업 ✅

### UI/UX 개선
- [x] 토론 상황 섹션 추가 (접을 수 있는 영역)
- [x] 토론 생성 모달 여백 축소
- [x] 토론 타입 배지 인라인 표시
- [x] 비밀글 잠금 아이콘 표시

### 버그 수정
- [x] 역할극 모드 역할 목록 표시 수정
- [x] 참여자 통계 영역 조건부 표시
- [x] 닉네임 자동 입장 기능 복구
- [x] PDF 다운로드 기능 (흐름 시각화)

## 참고사항

### 개발 환경
- Node.js v22.14.0
- PostgreSQL 데이터베이스
- Socket.io for real-time communication
- Vanilla JavaScript (No frameworks)

### 서버 실행
```bash
# 서버 시작 (포트 3001)
node server.js

# 또는 개발 모드 (nodemon 사용)
npm run dev
```

### 데이터베이스 스키마
주요 테이블:
- `discussions`: 토론방 정보
- `participants`: 참여자 정보
- `messages`: 메시지 정보

### 환경 변수
`.env` 파일에 다음 설정 필요:
- `DATABASE_URL`: PostgreSQL 연결 문자열
- `PORT`: 서버 포트 (기본값: 3001)
