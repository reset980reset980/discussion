<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÌÜ†Î°†Î∞©</title>
    <link rel="stylesheet" href="css/room.css">
</head>
<body>
    <div class="container">
        <!-- Ìó§Îçî -->
        <header class="room-header">
            <div class="header-content">
                <h1 class="room-title" id="roomTitle">ÌÜ†Î°†Î∞© Ï†úÎ™©</h1>
                <div class="header-actions">
                    <button class="btn-icon" id="shareBtn" title="Í≥µÏú†">
                        <span>üîó</span>
                    </button>
                    <button class="btn-icon" id="settingsBtn" title="ÏÑ§Ï†ï">
                        <span>‚öôÔ∏è</span>
                    </button>
                    <button class="btn-close" id="closeBtn">
                        <span>‚úï</span>
                    </button>
                </div>
            </div>
        </header>

        <!-- Î©îÏù∏ Î†àÏù¥ÏïÑÏõÉ: Ï±ÑÌåÖ + ÏÇ¨Ïù¥ÎìúÎ∞î -->
        <main class="main-layout">
            <!-- Ï±ÑÌåÖ ÏòÅÏó≠ (ÏôºÏ™Ω, Ìï≠ÏÉÅ ÌëúÏãú) -->
            <div class="chat-area">
                <div class="chat-container">
                    <!-- Î©îÏãúÏßÄ ÏòÅÏó≠ -->
                    <div class="messages-area" id="messagesArea">
                        <div class="message-list" id="messageList">
                            <!-- Î©îÏãúÏßÄÍ∞Ä Ïó¨Í∏∞Ïóê ÌëúÏãúÎê©ÎãàÎã§ -->
                            <div class="system-message">
                                <span>ÌÜ†Î°†Î∞©Ïóê ÏûÖÏû•ÌñàÏäµÎãàÎã§</span>
                            </div>
                        </div>
                    </div>

                    <!-- Î©îÏãúÏßÄ ÏûÖÎ†• ÏòÅÏó≠ -->
                    <div class="message-input-container">
                        <div class="input-wrapper">
                            <textarea
                                class="message-input"
                                id="messageInput"
                                placeholder="Î©îÏãúÏßÄÎ•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî..."
                                rows="1"
                            ></textarea>
                            <button class="btn-send" id="sendBtn">
                                <span>Ï†ÑÏÜ°</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Ïò§Î•∏Ï™Ω ÏÇ¨Ïù¥ÎìúÎ∞î (ÌÜ†Í∏Ä) -->
            <aside class="sidebar" id="sidebar">
                <div class="sidebar-header">
                    <h2 class="sidebar-title" id="sidebarTitle">Ï∞∏Ïó¨Ïûê</h2>
                    <button class="btn-close-sidebar" id="closeSidebarBtn">
                        <span>‚úï</span>
                    </button>
                </div>

                <div class="sidebar-content">
                    <!-- Ï∞∏Ïó¨Ïûê Ïª®ÌÖêÏ∏† -->
                    <div class="sidebar-panel" id="panel-participants">
                        <div class="participants-header">
                            <div class="participant-stats">
                                <div class="stat-item">
                                    <span class="stat-label">Ï†ÑÏ≤¥</span>
                                    <span class="stat-value" id="participantCount">0</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-label" id="onlineCount">0Î™Ö Ïò®ÎùºÏù∏</span>
                                </div>
                            </div>
                        </div>
                        <div class="participants-list" id="participantsList">
                            <div class="empty-state">
                                <p>ÏïÑÏßÅ Ï∞∏Ïó¨ÏûêÍ∞Ä ÏóÜÏäµÎãàÎã§</p>
                            </div>
                        </div>
                        <div class="participants-stats">
                            <div class="role-stats">
                                <div class="role-stat">
                                    <span class="role-label">Ï∞¨ÏÑ±</span>
                                    <span class="role-count" id="prosCount">0</span>
                                </div>
                                <div class="role-stat">
                                    <span class="role-label">Î∞òÎåÄ</span>
                                    <span class="role-count" id="consCount">0</span>
                                </div>
                                <div class="role-stat">
                                    <span class="role-label">Ï§ëÎ¶Ω</span>
                                    <span class="role-count" id="neutralCount">0</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- AI Î∂ÑÏÑù Ïª®ÌÖêÏ∏† -->
                    <div class="sidebar-panel" id="panel-analysis" style="display: none;">
                        <div class="analysis-header">
                            <button class="btn-refresh" id="refreshAnalysisBtn">
                                <span>üîÑ</span>
                                <span>ÏÉàÎ°úÍ≥†Ïπ®</span>
                            </button>
                        </div>
                        <div class="analysis-content">
                            <div class="analysis-section">
                                <h3>ÏöîÏïΩ</h3>
                                <div class="summary-box" id="summaryBox">
                                    <p class="empty-state">Ï∂©Î∂ÑÌïú ÎåÄÌôîÍ∞Ä ÏßÑÌñâÎêú ÌõÑ AI Î∂ÑÏÑùÏù¥ ÏÉùÏÑ±Îê©ÎãàÎã§.</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- AI ÏßàÎ¨∏ Ïª®ÌÖêÏ∏† -->
                    <div class="sidebar-panel" id="panel-questions" style="display: none;">
                        <div class="questions-header">
                            <div class="timer">
                                <span class="timer-label">Îã§Ïùå ÏßàÎ¨∏ÍπåÏßÄ</span>
                                <span class="timer-value" id="timeRemaining">5:00</span>
                            </div>
                        </div>
                        <div class="questions-list" id="questionsList">
                            <div class="empty-state">
                                <p>AIÍ∞Ä ÌÜ†Î°† Ï£ºÏ†úÏóê ÎåÄÌïú ÏßàÎ¨∏ÏùÑ ÏÉùÏÑ± Ï§ëÏûÖÎãàÎã§...</p>
                            </div>
                        </div>
                    </div>
                </div>
            </aside>
        </main>

        <!-- ÌïòÎã® Î≤ÑÌäº ÏòÅÏó≠ -->
        <footer class="bottom-actions">
            <button class="action-btn" id="btn-participants">
                <span class="btn-icon">üë•</span>
                <span class="btn-label">Ï∞∏Ïó¨Ïûê</span>
                <span class="btn-badge" id="participantBadge">0</span>
            </button>
            <button class="action-btn" id="btn-analysis">
                <span class="btn-icon">üìä</span>
                <span class="btn-label">AI Î∂ÑÏÑù</span>
            </button>
            <button class="action-btn" id="btn-questions">
                <span class="btn-icon">ü§ñ</span>
                <span class="btn-label">AI ÏßàÎ¨∏</span>
            </button>
            <button class="action-btn" id="downloadPdfBtn">
                <span class="btn-icon">üì•</span>
                <span class="btn-label">PDF</span>
            </button>
        </footer>
    </div>

    <!-- Í≥µÏú† Î™®Îã¨ -->
    <div class="modal" id="shareModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>ÌÜ†Î°†Î∞© Í≥µÏú†</h3>
                <button class="btn-close-modal" onclick="closeShareModal()">‚úï</button>
            </div>
            <div class="modal-body">
                <div class="share-section">
                    <label>Í≥µÏú† URL</label>
                    <div class="url-input-group">
                        <input type="text" id="shortUrl" readonly>
                        <button onclick="copyUrl()">Î≥µÏÇ¨</button>
                    </div>
                </div>
                <div class="share-section">
                    <label>QR ÏΩîÎìú</label>
                    <div id="qrCode"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Socket.io -->
    <script src="/socket.io/socket.io.js"></script>
    <!-- Î©îÏù∏ Ïä§ÌÅ¨Î¶ΩÌä∏ -->
    <script src="js/room.js"></script>
</body>
</html>
